{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class TripDataService {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.apiBaseUrl = 'http://localhost:3000/api/';\n  }\n  getTrips() {\n    console.log('[In TripDataService.getTrips]');\n    return this.httpClient.get(`${this.apiBaseUrl}trips`).toPromise().then(response => response).catch(this.handleError);\n  }\n  addTrip(formData) {\n    console.log('[In TripDataService.addTrip]');\n    console.log(formData);\n    return this.httpClient.post(`${this.apiBaseUrl}trips/addTrip`, formData).toPromise().then(response => response).catch(this.handleError);\n  }\n  handleError(error) {\n    console.error('Something has gone wrong', error);\n    return Promise.reject(error.message || error);\n  }\n}\nTripDataService.ɵfac = function TripDataService_Factory(t) {\n  return new (t || TripDataService)(i0.ɵɵinject(i1.HttpClient));\n};\nTripDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: TripDataService,\n  factory: TripDataService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAQA,OAAM,MAAOA,eAAe;EAE1BC,YAAoBC,UAAsB;IAAtB,eAAU,GAAVA,UAAU;IAEtB,eAAU,GAAG,4BAA4B;EAFH;EAIvCC,QAAQ;IACXC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;IAC5C,OAAO,IAAI,CAACH,UAAU,CACdI,GAAG,CAAC,GAAG,IAAI,CAACC,UAAU,OAAO,CAAC,CAC9BC,SAAS,EAAE,CACXC,IAAI,CAAEC,QAAY,IAAIA,QAAkB,CAAC,CACzCC,KAAK,CAAC,IAAI,CAACC,WAAW,CAAC;EACnC;EAEOC,OAAO,CAACC,QAAc;IAC3BV,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;IAC3CD,OAAO,CAACC,GAAG,CAACS,QAAQ,CAAC;IACrB,OAAO,IAAI,CAACZ,UAAU,CAACa,IAAI,CAAC,GAAG,IAAI,CAACR,UAAU,eAAe,EAAEO,QAAQ,CAAC,CACvDN,SAAS,EAAE,CACXC,IAAI,CAAEC,QAAY,IAAKA,QAAkB,CAAC,CAC1CC,KAAK,CAAC,IAAI,CAACC,WAAW,CAAC;EAC1C;EAEQA,WAAW,CAACI,KAAU;IAC5BZ,OAAO,CAACY,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAACG,OAAO,IAAIH,KAAK,CAAC;EAC/C;;AA3BWhB,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;SAAfA,eAAe;EAAAoB,SAAfpB,eAAe;EAAAqB,YAFd;AAAM","names":["TripDataService","constructor","httpClient","getTrips","console","log","get","apiBaseUrl","toPromise","then","response","catch","handleError","addTrip","formData","post","error","Promise","reject","message","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\authe\\OneDrive\\Desktop\\Travlr Stuff\\CS465\\app_admin\\src\\app\\services\\trip-data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Trip } from '../models/Trip';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TripDataService {\n\n  constructor(private httpClient: HttpClient) { }\n\n  private apiBaseUrl = 'http://localhost:3000/api/';\n\n  public getTrips(): Promise<Trip[]> {\n      console.log('[In TripDataService.getTrips]');\n      return this.httpClient \n             .get(`${this.apiBaseUrl}trips`)\n             .toPromise()\n             .then((response:any)=> response as Trip[])\n             .catch(this.handleError);\n  };\n\n  public addTrip(formData: Trip): Promise<Trip>{\n    console.log('[In TripDataService.addTrip]');\n    console.log(formData);\n    return this.httpClient.post(`${this.apiBaseUrl}trips/addTrip`, formData)\n                    .toPromise()\n                    .then((response:any) => response as Trip[])\n                    .catch(this.handleError);\n  }\n\n  private handleError(error: any): Promise<any> {\n    console.error('Something has gone wrong', error);\n    return Promise.reject(error.message || error);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}