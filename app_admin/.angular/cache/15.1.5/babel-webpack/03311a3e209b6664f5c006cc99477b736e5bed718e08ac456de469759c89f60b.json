{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class TripDataService {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.apiBaseUrl = 'http://localhost:3000/api/';\n    this.tripUrl = `${this.apiBaseUrl}trips/`;\n  }\n  getTrips() {\n    console.log('[In TripDataService.getTrips]');\n    return this.httpClient.get(`${this.apiBaseUrl}trips`).toPromise().then(response => response).catch(this.handleError);\n  }\n  addTrip(formData) {\n    console.log('[In TripDataService.addTrip]');\n    //console.log(formData);\n    return this.httpClient.post(`${this.apiBaseUrl}trips/addTrip`, formData).toPromise().then(response => response).catch(this.handleError);\n  }\n  getTrip(tripCode) {\n    console.log('[In TripDataService.getTrip]');\n    return this.httpClient.get(this.tripUrl + tripCode).toPromise().then(response => response).catch(this.handleError);\n  }\n  updateTrip(formData) {\n    console.log('[In TripDataService.updateTrip]');\n    //console.log(formData);\n    return this.httpClient.put(this.tripUrl + formData.code, formData).toPromise().then(response => response).catch(this.handleError);\n  }\n  handleError(error) {\n    console.error('Something has gone wrong', error);\n    return Promise.reject(error.message || error);\n  }\n}\nTripDataService.ɵfac = function TripDataService_Factory(t) {\n  return new (t || TripDataService)(i0.ɵɵinject(i1.HttpClient));\n};\nTripDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: TripDataService,\n  factory: TripDataService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAQA,OAAM,MAAOA,eAAe;EAE1BC,YAAoBC,UAAsB;IAAtB,eAAU,GAAVA,UAAU;IAEtB,eAAU,GAAG,4BAA4B;IACzC,YAAO,GAAG,GAAG,IAAI,CAACC,UAAU,QAAQ;EAHE;EAKvCC,QAAQ;IACXC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;IAC5C,OAAO,IAAI,CAACJ,UAAU,CACdK,GAAG,CAAC,GAAG,IAAI,CAACJ,UAAU,OAAO,CAAC,CAC9BK,SAAS,EAAE,CACXC,IAAI,CAAEC,QAAY,IAAIA,QAAkB,CAAC,CACzCC,KAAK,CAAC,IAAI,CAACC,WAAW,CAAC;EACnC;EAEOC,OAAO,CAACC,QAAc;IAC3BT,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;IAC3C;IACA,OAAO,IAAI,CAACJ,UAAU,CAACa,IAAI,CAAC,GAAG,IAAI,CAACZ,UAAU,eAAe,EAAEW,QAAQ,CAAC,CACvDN,SAAS,EAAE,CACXC,IAAI,CAAEC,QAAY,IAAKA,QAAkB,CAAC,CAC1CC,KAAK,CAAC,IAAI,CAACC,WAAW,CAAC;EAC1C;EAEOI,OAAO,CAACC,QAAgB;IAC7BZ,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;IAC3C,OAAO,IAAI,CAACJ,UAAU,CAACK,GAAG,CAAC,IAAI,CAACW,OAAO,GAAGD,QAAQ,CAAC,CACvCT,SAAS,EAAE,CACXC,IAAI,CAACC,QAAQ,IAAIA,QAAgB,CAAC,CAClCC,KAAK,CAAC,IAAI,CAACC,WAAW,CAAC;EACrC;EAEOO,UAAU,CAACL,QAAc;IAC9BT,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;IAC9C;IACA,OAAO,IAAI,CAACJ,UAAU,CAACkB,GAAG,CAAC,IAAI,CAACF,OAAO,GAAGJ,QAAQ,CAACO,IAAI,EAAEP,QAAQ,CAAC,CACjDN,SAAS,EAAE,CACXC,IAAI,CAAEC,QAAY,IAAKA,QAAkB,CAAC,CAC1CC,KAAK,CAAC,IAAI,CAACC,WAAW,CAAC;EAC1C;EAEQA,WAAW,CAACU,KAAU;IAC5BjB,OAAO,CAACiB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAACG,OAAO,IAAIH,KAAK,CAAC;EAC/C;;AA7CWtB,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;SAAfA,eAAe;EAAA0B,SAAf1B,eAAe;EAAA2B,YAFd;AAAM","names":["TripDataService","constructor","httpClient","apiBaseUrl","getTrips","console","log","get","toPromise","then","response","catch","handleError","addTrip","formData","post","getTrip","tripCode","tripUrl","updateTrip","put","code","error","Promise","reject","message","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\authe\\OneDrive\\Desktop\\Travlr Stuff\\CS465\\app_admin\\src\\app\\services\\trip-data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Trip } from '../models/Trip';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TripDataService {\n\n  constructor(private httpClient: HttpClient) { }\n\n  private apiBaseUrl = 'http://localhost:3000/api/';\n  private tripUrl = `${this.apiBaseUrl}trips/`;\n\n  public getTrips(): Promise<Trip[]> {\n      console.log('[In TripDataService.getTrips]');\n      return this.httpClient \n             .get(`${this.apiBaseUrl}trips`)\n             .toPromise()\n             .then((response:any)=> response as Trip[])\n             .catch(this.handleError);\n  };\n\n  public addTrip(formData: Trip): Promise<Trip>{\n    console.log('[In TripDataService.addTrip]');\n    //console.log(formData);\n    return this.httpClient.post(`${this.apiBaseUrl}trips/addTrip`, formData)\n                    .toPromise()\n                    .then((response:any) => response as Trip[])\n                    .catch(this.handleError);\n  }\n\n  public getTrip(tripCode: string): Promise<Trip>{\n    console.log('[In TripDataService.getTrip]');\n    return this.httpClient.get(this.tripUrl + tripCode)\n               .toPromise()\n               .then(response => response as Trip)\n               .catch(this.handleError);\n  }\n\n  public updateTrip(formData: Trip):Promise<Trip>{\n    console.log('[In TripDataService.updateTrip]');\n    //console.log(formData);\n    return this.httpClient.put(this.tripUrl + formData.code, formData)\n                    .toPromise()\n                    .then((response:any) => response as Trip[])\n                    .catch(this.handleError);\n  }\n\n  private handleError(error: any): Promise<any> {\n    console.error('Something has gone wrong', error);\n    return Promise.reject(error.message || error);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}